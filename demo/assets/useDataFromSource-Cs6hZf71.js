import{a$ as m,d as p,b0 as d,b1 as w,b2 as g}from"./index-BnbdzBXK.js";const v=e=>{var n;const{dispatch:f}=m(),[h,u]=p.useState(),b=(((n=document.querySelector("base"))==null?void 0:n.getAttribute("href"))??"")+"/strudel-kit/demo/";return p.useEffect(()=>{(async()=>{const s=e.split(".").pop(),c=e.startsWith("http"),o=c?e:`${b}/${e}`;let t=[];if(s==="csv")t=await d(o);else if(s==="tsv")t=await w(o);else if(s==="json"||c){let r=new Headers;const i=localStorage.getItem("apiTokenName"),l=localStorage.getItem("apiTokenValue");i&&l&&(r=new Headers({[i]:l}));try{const a=await fetch(o,{headers:r,method:"GET",redirect:"follow"});if(!a.ok)throw f(g()),new Error("unable to fetch");t=await a.json()}catch(a){console.log(a)}}u(t)})()},[]),h};export{v as u};
