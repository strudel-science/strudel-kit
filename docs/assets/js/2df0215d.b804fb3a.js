"use strict";(self.webpackChunkstrudel_docs=self.webpackChunkstrudel_docs||[]).push([[2399],{8319:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>d});var s=n(4848),a=n(8453);const o={},i="Configure Your Task Flow",r={id:"tutorials/basic-app-with-strudel/configure-taskflow",title:"Configure Your Task Flow",description:"Introduction",source:"@site/docs/tutorials/basic-app-with-strudel/2-configure-taskflow.md",sourceDirName:"tutorials/basic-app-with-strudel",slug:"/tutorials/basic-app-with-strudel/configure-taskflow",permalink:"/strudel-kit/docs/tutorials/basic-app-with-strudel/configure-taskflow",draft:!1,unlisted:!1,editUrl:"https://github.com/strudel-science/strudel-kit/tree/main/docs/docs/tutorials/basic-app-with-strudel/2-configure-taskflow.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{},sidebar:"mainSidebar",previous:{title:"Setup Your Project",permalink:"/strudel-kit/docs/tutorials/basic-app-with-strudel/setup"},next:{title:"Customize Your Task Flow",permalink:"/strudel-kit/docs/tutorials/basic-app-with-strudel/customize-taskflow"}},l={},d=[{value:"Introduction",id:"introduction",level:2},{value:"Remove Unused Task Flows",id:"remove-unused-task-flows",level:2},{value:"Rename Your Task Flow",id:"rename-your-task-flow",level:2},{value:"Task Flow Breakdown",id:"task-flow-breakdown",level:2},{value:"Add a Data Source",id:"add-a-data-source",level:2},{value:"Edit the Task Flow Data Source",id:"edit-the-task-flow-data-source",level:3},{value:"Modify Page Elements",id:"modify-page-elements",level:2},{value:"Page Titles",id:"page-titles",level:3},{value:"Filters",id:"filters",level:3},{value:"Columns",id:"columns",level:3},{value:"Update the Navigation Bar",id:"update-the-navigation-bar",level:2},{value:"Next steps",id:"next-steps",level:2}];function c(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h1,{id:"configure-your-task-flow",children:"Configure Your Task Flow"}),"\n",(0,s.jsx)(t.h2,{id:"introduction",children:"Introduction"}),"\n",(0,s.jsx)(t.p,{children:'Task Flows are are a set of steps (represented by a series of screens) that help a user accomplish a task and represent how a user progresses through a UI. STRUDEL has several Task Flow templates that built into a the starter app. In this example, you will work with the Task Flow called "Explore Data". Let\'s configure this Task Flow so that users can search and filter data about planets in the Solar System.'}),"\n",(0,s.jsx)(t.h2,{id:"remove-unused-task-flows",children:"Remove Unused Task Flows"}),"\n",(0,s.jsxs)(t.p,{children:["Before we start working with the Explore Data Task Flow, let's remove the Task Flows that we aren't going to be working with. Go to the ",(0,s.jsx)(t.code,{children:"src/pages"})," directory and delete the following folders (don't worry, you can bring them back using the command-line later if you wish):"]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.code,{children:"compare-data"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.code,{children:"contribute-data"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.code,{children:"monitor-activities"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.code,{children:"playground"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.code,{children:"run-computation"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.code,{children:"search-data-repositories"})}),"\n"]}),"\n",(0,s.jsxs)(t.admonition,{title:"Reference",type:"info",children:[(0,s.jsxs)(t.p,{children:["To re-add or duplicate a Task Flow, you can navigate to the ",(0,s.jsx)(t.code,{children:"src/pages"})," directory and run:"]}),(0,s.jsx)(t.p,{children:(0,s.jsx)(t.code,{children:"npx degit strudel-science/strudel-kit/src/pages/TASK-FLOW-NAME"})})]}),"\n",(0,s.jsx)(t.h2,{id:"rename-your-task-flow",children:"Rename Your Task Flow"}),"\n",(0,s.jsxs)(t.p,{children:["Let's rename the Explore Data Task Flow something that is more appropriate for our example. Inside the ",(0,s.jsx)(t.code,{children:"src/pages"})," directory, rename the ",(0,s.jsx)(t.code,{children:"explore-data"})," directory ",(0,s.jsx)(t.code,{children:"solar-system"}),". Doing this will change the URL route to this Task Flow's page. It will also update the link to the Task Flow on the home page. You should now be able to navigate to your Task Flow template at ",(0,s.jsx)(t.a,{href:"http://localhost:5175/solar-system",children:"http://localhost:5175/solar-system"}),"."]}),"\n",(0,s.jsx)(t.p,{children:"If you followed that link, you will be taken to the default Explore Data page. Right now it is configured with default data and settings. Let's keep going to configure this Task Flow for own usecase."}),"\n",(0,s.jsx)(t.h2,{id:"task-flow-breakdown",children:"Task Flow Breakdown"}),"\n",(0,s.jsxs)(t.p,{children:["Let's look at the contents of ",(0,s.jsx)(t.code,{children:"src/pages/solar-system"}),", the directory that holds the Explore Data Task Flow template:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-py",children:"solar-system\n\u251c\u2500\u2500 -components\n\u2502  \u251c\u2500\u2500 DataView.tsx # Data grid component\n\u2502  \u251c\u2500\u2500 DataViewHeader.tsx # Header above data table\n\u2502  \u251c\u2500\u2500 FiltersPanel.tsx # Left side panel of filters\n\u2502  \u2514\u2500\u2500 PreviewPanel.tsx # Panel displayable on row-click\n\u251c\u2500\u2500 -tests\n\u2502  \u2514\u2500\u2500 explore-data.cy.ts # End-to-end test for this Task Flow\n\u251c\u2500\u2500 $id.tsx # Detail page for a single row\n\u2514\u2500\u2500 index.tsx # Data explorer page\n"})}),"\n",(0,s.jsx)(t.p,{children:"There are three types of files in this template:"}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsx)(t.li,{children:"Page components"}),"\n",(0,s.jsx)(t.li,{children:"Sub-components"}),"\n",(0,s.jsx)(t.li,{children:"Tests"}),"\n"]}),"\n",(0,s.jsxs)(t.p,{children:["The page components are the files that aren't inside a directory prefixed with ",(0,s.jsx)(t.code,{children:"-"}),". In this template that includes ",(0,s.jsx)(t.code,{children:"$id.tsx"})," and ",(0,s.jsx)(t.code,{children:"index.tsx"}),". These define the pages and URL routes that exist in our application. The strudel-kit uses TanStack Router to handle this. You may find it useful to scan their ",(0,s.jsx)(t.a,{href:"https://tanstack.com/router/latest/docs/framework/react/routing/file-based-routing",children:"documentation and conventions"}),"."]}),"\n",(0,s.jsxs)(t.p,{children:["Sub-components are the files nested inside of the ",(0,s.jsx)(t.code,{children:"-components"})," directory. These are pieces of pages that are broken into their own files for brevity. Typically these are used inside page components."]}),"\n",(0,s.jsx)(t.p,{children:"The last type of file in this template is a test. This tests the basic functionality and flow of the Task Flow."}),"\n",(0,s.jsxs)(t.p,{children:["You can read more about the structure of Task Flow templates on the Task Flows ",(0,s.jsx)(t.a,{href:"/strudel-kit/docs/task-flows/overview",children:"Overview"})," page in the strudel-kit docs."]}),"\n",(0,s.jsx)(t.h2,{id:"add-a-data-source",children:"Add a Data Source"}),"\n",(0,s.jsxs)(t.p,{children:["Right now the Task Flow you created is pulling its data from the ",(0,s.jsx)(t.code,{children:"public/dummy-data/"})," directory. Let's instead create a new new data file that we will use for our Task Flow."]}),"\n",(0,s.jsx)(t.p,{children:"Open up a blank file and paste in the following content:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"Name,Diameter,Mass,Inclination,Eccentricity,Semi_majorAxis,SurfaceGravity,OrbitalPeriod,SiderealRotation,Satellites\nMercury,4879.4, 3.302\xd710^23, 7.004, 0.20563593, 0.38709927, 3.7, 0.241, 58.65, 0\nVenus,12103.6, 4.869\xd710^24, 3.39471, 0.00677672, 0.72333566, 8.87, 0.615, 243.0187, 0\nEarth,12756.3, 5.974\xd710^24, 0.00005, 0.01671123, 1.00000261, 9.78, 1, 0.997271, 1\nMars,6794.4, 6.419\xd710^23, 1.85061, 0.0933941, 1.52371034, 3.71, 1.881, 1.02595, 2\nJupiter,142984, 1.899\xd710^27, 1.3053, 0.04838624, 5.202887, 24.79, 11.86, 0.4135, 63\nSaturn,120536, 5.688\xd710^26, 2.48446, 0.05386179, 9.53667594, 8.96, 29.46, 0.4264, 64\nUranus,51118, 8.683\xd710^25, 0.774, 0.04725744, 19.18916464, 7.77, 84.01, 0.7181, 27\nNeptune,49572, 1.024\xd710^26, 1.76917, 0.00859048, 30.06992276, 11, 164.79, 0.6712, 14\n"})}),"\n",(0,s.jsxs)(t.p,{children:["Save this file in ",(0,s.jsx)(t.code,{children:"public/data"})," and name it ",(0,s.jsx)(t.code,{children:"planets.csv"}),"."]}),"\n",(0,s.jsx)(t.h3,{id:"edit-the-task-flow-data-source",children:"Edit the Task Flow Data Source"}),"\n",(0,s.jsxs)(t.p,{children:["Now you need to tell the Task Flow to use the new data source you just created. For this template, the data source is referenced inside the file ",(0,s.jsx)(t.code,{children:"solar-system/-components/DataView.tsx"}),"."]}),"\n",(0,s.jsx)(t.admonition,{title:"Reference",type:"info",children:(0,s.jsxs)(t.p,{children:["The primary configurable portions of a Task Flow template are marked with comments that say ",(0,s.jsx)(t.code,{children:"CUSTOMIZE:"}),". You might find it useful to do a project-wide search for this phrase when you are setting up a new Task Flow."]})}),"\n",(0,s.jsxs)(t.p,{children:["Inside ",(0,s.jsx)(t.code,{children:"DataView.tsx"}),", locate the following line of code:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-jsx",children:"dataSource: 'dummy-data/exoplanets.csv',\n"})}),"\n",(0,s.jsx)(t.p,{children:"Now change this to reflect the path to your newly created CSV file:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-jsx",children:"dataSource: 'data/planets.csv',\n"})}),"\n",(0,s.jsxs)(t.p,{children:["Then locate ",(0,s.jsx)(t.code,{children:"dataIdField"})," and change this to ",(0,s.jsx)(t.code,{children:"Name"})," (the unique column in your new dataset):"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-jsx",children:"const dataIdField = 'Id';\n"})}),"\n",(0,s.jsx)(t.p,{children:"Becomes:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-jsx",children:"const dataIdField = 'Name';\n"})}),"\n",(0,s.jsxs)(t.p,{children:["Now instead of pointing to the default dataset, your Task Flow points to the planets dataset you made. Next, we need to change the page titles, table columns, and filters for the main ",(0,s.jsx)(t.code,{children:"index"})," page."]}),"\n",(0,s.jsx)(t.h2,{id:"modify-page-elements",children:"Modify Page Elements"}),"\n",(0,s.jsx)(t.p,{children:"Let's first start simple by changing the page titles for this Task Flow."}),"\n",(0,s.jsx)(t.h3,{id:"page-titles",children:"Page Titles"}),"\n",(0,s.jsxs)(t.p,{children:["Open up ",(0,s.jsx)(t.code,{children:"src/pages/solar-system/index.tsx"}),". This is the initial page of the Task Flow. Scan this file for the ",(0,s.jsx)(t.code,{children:"<PageHeader />"})," component:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-jsx",metastring:'title="index.tsx"',children:'<PageHeader\n  // CUSTOMIZE: the page title\n  pageTitle="Explore Data App"\n  // CUSTOMIZE: the page description\n  description="Description of this app"\n  sx={{\n    marginBottom: 1,\n    padding: 2,\n  }}\n/>\n'})}),"\n",(0,s.jsxs)(t.p,{children:["Replace the ",(0,s.jsx)(t.code,{children:"pageTitle"})," prop value with ",(0,s.jsx)(t.code,{children:'"Solar System Explorer"'})," and the ",(0,s.jsx)(t.code,{children:"description"})," prop value with ",(0,s.jsx)(t.code,{children:'"Explore data about the planets that orbit the Sun."'}),"."]}),"\n",(0,s.jsx)(t.admonition,{title:"Reference",type:"info",children:(0,s.jsx)(t.p,{children:"A prop is like an input or argument for a React component. They are used to make components more reusable and dynamic."})}),"\n",(0,s.jsx)(t.p,{children:"Your component should now look like this:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-jsx",metastring:'title="index.tsx"',children:'<PageHeader\n  // CUSTOMIZE: the page title\n  pageTitle="Solar System Explorer"\n  // CUSTOMIZE: the page description\n  description="Explore data about the planets that orbit the Sun."\n  sx={{\n    marginBottom: 1,\n    padding: 2,\n  }}\n/>\n'})}),"\n",(0,s.jsxs)(t.p,{children:["Save this file and you should see the new page titles in your browser at ",(0,s.jsx)(t.a,{href:"http://localhost:5175/solar-system",children:"http://localhost:5175/solar-system"}),"."]}),"\n",(0,s.jsx)(t.h3,{id:"filters",children:"Filters"}),"\n",(0,s.jsxs)(t.p,{children:["The filters are also defined in the ",(0,s.jsx)(t.code,{children:"index.tsx"})," file so keep that file open for this next step. Locate the array towards the top of the file called ",(0,s.jsx)(t.code,{children:"filterConfigs"}),". This array defines which filters to render, how they should render, and how they should connect to the data."]}),"\n",(0,s.jsx)(t.p,{children:"Replace that whole array definition with one that works with our new data source:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-jsx",metastring:'title="index.tsx"',children:'// CUSTOMIZE: the filter definitions\nconst filterConfigs: FilterConfig[] = [\n  {\n    field: "Diameter",\n    label: "Diameter (km)",\n    filterComponent: "Slider",\n    filterProps: {\n      min: 4000,\n      max: 150000\n    }\n  }\n];\n'})}),"\n",(0,s.jsxs)(t.p,{children:["Save this file and you should see the new filter in your browser at ",(0,s.jsx)(t.a,{href:"http://localhost:5175/solar-system",children:"http://localhost:5175/solar-system"}),"."]}),"\n",(0,s.jsx)(t.h3,{id:"columns",children:"Columns"}),"\n",(0,s.jsxs)(t.p,{children:["The columns to display in the table are defined in the ",(0,s.jsx)(t.code,{children:"DataView.tsx"})," component inside the ",(0,s.jsx)(t.code,{children:"-components"})," directory (the same one where we defined the data source). Open up that file and locate the ",(0,s.jsx)(t.code,{children:"<SciDataGrid />"})," component."]}),"\n",(0,s.jsxs)(t.p,{children:["Inside this component is a prop called ",(0,s.jsx)(t.code,{children:"columns"}),". Replace the value of this prop with an array of column definitions for our new dataset:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-jsx",metastring:'title="DataView.tsx"',children:'// CUSTOMIZE: the table columns\ncolumns={[\n  {\n    field: "Name",\n    headerName: "Name",\n    width: 200\n  },\n  {\n    field: "Diameter",\n    headerName: "Diameter (km)",\n    width: 150\n  },\n  {\n    field: "Mass",\n    headerName: "Mass (kg)",\n    width: 150\n  },\n  {\n    field: "Inclination",\n    headerName: "Inclination (deg)",\n    width: 150\n  },\n  {\n    field: "Eccentricity",\n    headerName: "Eccentricity",\n    width: 150\n  }\n]}\n'})}),"\n",(0,s.jsxs)(t.p,{children:["Save this file and you should see the new columns show up in the table in your browser at ",(0,s.jsx)(t.a,{href:"http://localhost:5175/solar-system",children:"http://localhost:5175/solar-system"}),"."]}),"\n",(0,s.jsxs)(t.p,{children:["You should now have a fully functioning Explore Data Task Flow page when you navigate to the ",(0,s.jsx)(t.code,{children:"/solar-system"})," route!"]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"Screenshot of solar system Task Flow in a browser",src:n(304).A+"",width:"1816",height:"1226"})}),"\n",(0,s.jsx)(t.p,{children:"This is great, but it would be good to be able to access this page from the navbar instead. Let's add a link to the Solar System page in the top navigation bar."}),"\n",(0,s.jsx)(t.h2,{id:"update-the-navigation-bar",children:"Update the Navigation Bar"}),"\n",(0,s.jsxs)(t.p,{children:["Open the file located at ",(0,s.jsx)(t.code,{children:"src/components/TopBar.tsx"}),". This component controls the contents of the top navigation bar."]}),"\n",(0,s.jsxs)(t.p,{children:["Locate the last closing ",(0,s.jsx)(t.code,{children:"</AppLink>"})," and add another ",(0,s.jsx)(t.code,{children:"<AppLink>"})," component directly after:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-jsx",metastring:'title="TopBar.tsx"',children:'<AppLink to="/solar-system">Solar System</AppLink>\n'})}),"\n",(0,s.jsxs)(t.p,{children:["You may also want to update the title in the previous ",(0,s.jsx)(t.code,{children:"<AppLink>"}),' to say something other than "My Project":']}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-jsx",metastring:'title="TopBar.tsx"',children:'<AppLink to="/">\n  <Typography variant="h6" component="div" fontWeight="bold">\n    Planets\n  </Typography>\n</AppLink>\n'})}),"\n",(0,s.jsxs)(t.p,{children:["To do this we are going to open the global strudel configuration file ",(0,s.jsx)(t.code,{children:"strudel.config.ts"})," located at the root of our app."]}),"\n",(0,s.jsx)(t.p,{children:'Save that file and you should see a new "Solar System" link in the navbar.'}),"\n",(0,s.jsx)(t.p,{children:"Woohoo! You now have your first fully connected Task Flow."}),"\n",(0,s.jsx)(t.h2,{id:"next-steps",children:"Next steps"}),"\n",(0,s.jsx)(t.p,{children:"The next section provides some examples of how to customize your Task Flow."})]})}function h(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},304:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/start-explore-data-2-a00bc5178c1d7955205236dfe0015c55.png"},8453:(e,t,n)=>{n.d(t,{R:()=>i,x:()=>r});var s=n(6540);const a={},o=s.createContext(a);function i(e){const t=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),s.createElement(o.Provider,{value:t},e.children)}}}]);