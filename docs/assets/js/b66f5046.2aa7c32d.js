"use strict";(self.webpackChunkstrudel_docs=self.webpackChunkstrudel_docs||[]).push([[1142],{3983:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>r,contentTitle:()=>o,default:()=>h,frontMatter:()=>i,metadata:()=>l,toc:()=>d});var a=n(4848),s=n(8453);const i={},o="Add a Task Flow to Your App",l={id:"guides/tutorials/basic-app-with-strudel/add-taskflow",title:"Add a Task Flow to Your App",description:"Introduction",source:"@site/docs/guides/tutorials/basic-app-with-strudel/3-add-taskflow.md",sourceDirName:"guides/tutorials/basic-app-with-strudel",slug:"/guides/tutorials/basic-app-with-strudel/add-taskflow",permalink:"/strudel-kit/docs/guides/tutorials/basic-app-with-strudel/add-taskflow",draft:!1,unlisted:!1,editUrl:"https://github.com/strudel-science/strudel-kit/tree/main/docs/docs/guides/tutorials/basic-app-with-strudel/3-add-taskflow.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{},sidebar:"mainSidebar",previous:{title:"Create a Base App",permalink:"/strudel-kit/docs/guides/tutorials/basic-app-with-strudel/create-app"},next:{title:"Customize Your Task Flow",permalink:"/strudel-kit/docs/guides/tutorials/basic-app-with-strudel/customize-taskflow"}},r={},d=[{value:"Introduction",id:"introduction",level:3},{value:"Add a Task Flow",id:"add-a-task-flow",level:3},{value:"Add a data source",id:"add-a-data-source",level:3},{value:"Edit the Task Flow Configuration",id:"edit-the-task-flow-configuration",level:3},{value:"Next steps",id:"next-steps",level:2}];function c(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.h1,{id:"add-a-task-flow-to-your-app",children:"Add a Task Flow to Your App"}),"\n",(0,a.jsx)(t.h3,{id:"introduction",children:"Introduction"}),"\n",(0,a.jsx)(t.p,{children:'Task Flows are are a set of steps (represented by a series of screens) that help a user accomplish a task and represent how a user progresses through a UI. STRUDEL has several Task Flow templates that can be added into a base app as a new set of pages. In this example, you will add the Task Flow called "Explore Data".'}),"\n",(0,a.jsx)(t.h3,{id:"add-a-task-flow",children:"Add a Task Flow"}),"\n",(0,a.jsxs)(t.p,{children:["Let's extend your base app to include a new section where users search and filter data about planets in the Solar System. The first thing you will do is add a new Task Flow called ",(0,a.jsx)(t.code,{children:"solar-system"})," that uses the ",(0,a.jsx)(t.code,{children:"explore-data"})," template. Make sure your terminal is in the directory of your app (i.e., ",(0,a.jsx)(t.code,{children:"learning-strudel/planets-app"})," in this example), then, run this command:"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{children:"strudel add-taskflow solar-system --template explore-data\n"})}),"\n",(0,a.jsx)(t.p,{children:"If this succeeds, then the you will see a message in the terminal like:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{children:"Successfully added a task flow to your strudel app!\nYour new task flow was built in /some/path/to/learning-strudel/planets-app/src/pages/solar-system\n"})}),"\n",(0,a.jsx)(t.p,{children:"You should notice two new things:"}),"\n",(0,a.jsxs)(t.ol,{children:["\n",(0,a.jsxs)(t.li,{children:["A new directory called ",(0,a.jsx)(t.code,{children:"solar-system"})," inside ",(0,a.jsx)(t.code,{children:"src/pages"})]}),"\n",(0,a.jsxs)(t.li,{children:["A new link on the home page to ",(0,a.jsx)(t.code,{children:"/solar-system"})]}),"\n"]}),"\n",(0,a.jsx)(t.p,{children:"First let's break down the new files that were added:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-py",children:"solar-system\n\u251c\u2500\u2500 _components\n\u2502  \u251c\u2500\u2500 DataView.tsx # Data table on the main page\n\u2502  \u251c\u2500\u2500 DataViewHeader.tsx # Header over the data table on the main page\n\u2502  \u251c\u2500\u2500 FiltersPanel.tsx # Filters panel on the main page\n\u2502  \u2514\u2500\u2500 PreviewPanel.tsx # Preview panel on the main page\n\u251c\u2500\u2500 _config\n\u2502  \u251c\u2500\u2500 taskflow.config.ts # Task Flow configuration file\n\u2502  \u2514\u2500\u2500 taskflow.types.ts\n\u251c\u2500\u2500 [id].tsx # Data detail page component\n\u251c\u2500\u2500 _layout.tsx # Layout wrapper component\n\u2514\u2500\u2500 index.tsx # Main page component\n"})}),"\n",(0,a.jsxs)(t.p,{children:["These files are from the Explore Data Task Flow template. They include four main pieces: page components, a configuration file, a layout component, and inner page components. If you want to read about each of these in detail, check out the ",(0,a.jsx)(t.a,{href:"/strudel-kit/docs/task-flows/overview",children:"Task Flows"})," page. Right now, we will cover the basics as each piece comes up."]}),"\n",(0,a.jsxs)(t.p,{children:["Next, if you click on the new ",(0,a.jsx)(t.code,{children:"/solar-system"})," link on the home page, you will be taken to the default Explore Data page. Right now it is configured with default data and settings. Let's keep going to configure this Task Flow for own usecase."]}),"\n",(0,a.jsx)(t.h3,{id:"add-a-data-source",children:"Add a data source"}),"\n",(0,a.jsxs)(t.p,{children:["Right now the Task Flow you created is pulling its data from the ",(0,a.jsx)(t.code,{children:"public/data/default/explore-data/"})," directory. Let's instead create a new new data file that we will use for our Task Flow."]}),"\n",(0,a.jsx)(t.p,{children:"Open up a blank file and paste in the following content:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{children:"Name,Diameter,Mass,Inclination,Eccentricity,Semi_majorAxis,SurfaceGravity,OrbitalPeriod,SiderealRotation,Satellites\nMercury,4879.4, 3.302\xd710^23, 7.004, 0.20563593, 0.38709927, 3.7, 0.241, 58.65, 0\nVenus,12103.6, 4.869\xd710^24, 3.39471, 0.00677672, 0.72333566, 8.87, 0.615, 243.0187, 0\nEarth,12756.3, 5.974\xd710^24, 0.00005, 0.01671123, 1.00000261, 9.78, 1, 0.997271, 1\nMars,6794.4, 6.419\xd710^23, 1.85061, 0.0933941, 1.52371034, 3.71, 1.881, 1.02595, 2\nJupiter,142984, 1.899\xd710^27, 1.3053, 0.04838624, 5.202887, 24.79, 11.86, 0.4135, 63\nSaturn,120536, 5.688\xd710^26, 2.48446, 0.05386179, 9.53667594, 8.96, 29.46, 0.4264, 64\nUranus,51118, 8.683\xd710^25, 0.774, 0.04725744, 19.18916464, 7.77, 84.01, 0.7181, 27\nNeptune,49572, 1.024\xd710^26, 1.76917, 0.00859048, 30.06992276, 11, 164.79, 0.6712, 14\n"})}),"\n",(0,a.jsxs)(t.p,{children:["Save this file in ",(0,a.jsx)(t.code,{children:"public/data"})," and name it ",(0,a.jsx)(t.code,{children:"planets.csv"}),"."]}),"\n",(0,a.jsx)(t.h3,{id:"edit-the-task-flow-configuration",children:"Edit the Task Flow Configuration"}),"\n",(0,a.jsxs)(t.p,{children:["Now you need to tell the Task Flow to use the new data source you just created. Open up the solar-system Task Flow's configuration file in ",(0,a.jsx)(t.code,{children:"src/pages/solar-system/_config/taskflow.config.ts"}),"."]}),"\n",(0,a.jsx)(t.admonition,{title:"Reference",type:"info",children:(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.code,{children:"taskflow.config.ts"})," contains configurable properties for your Task Flow. Read more about this file on the ",(0,a.jsx)(t.a,{href:"/strudel-kit/docs/task-flows/overview",children:"Task Flows"})," page."]})}),"\n",(0,a.jsxs)(t.p,{children:["Replace the ",(0,a.jsx)(t.code,{children:"data"})," object at the top of the file with the following:"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-js",children:'data: {\n    /**\n     * Data definition for the initial items list\n     */\n    list: {\n      /**\n       * URL or path to the data source\n       */\n      source: "data/planets.csv",\n      /**\n       * Key-value object of params that should always be included in the query URL\n       */\n      staticParams: null,\n      /**\n       * Name of the field in the data that represents a unique identifier for each record.\n       */\n      idField: "Name",\n      /**\n       * Method by which data should be filtered, either client or server.\n       */\n      queryMode: "client",\n    },\n    /**\n     * Data definition for the item detail page\n     */\n    detail: {\n      source: "data/planets.csv",\n      staticParams: null,\n      idField: "Name",\n      queryMode: "client",\n    }\n  },\n'})}),"\n",(0,a.jsxs)(t.p,{children:["Now instead of pointing to the default dataset, your Task Flow points to the planets dataset you made. Next, we need to change the page titles, table columns, and filters for the main ",(0,a.jsx)(t.code,{children:"index"})," page."]}),"\n",(0,a.jsxs)(t.p,{children:["Replace the ",(0,a.jsx)(t.code,{children:"pages"})," object with the following:"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-js",children:'pages: {\n  index: {\n    /**\n     * Title to appear at the top of the main page.\n     */\n    title: "Solar System Explorer",\n    /**\n     * Text to appear underneath the title at the top of the main page.\n     */\n    description: "Explore data about the planets that orbit the Sun.",\n    /**\n     * List of column definition objects for the columns in the table on the main page.\n     */\n    tableColumns: [\n      {\n        field: "Name",\n        headerName: "Name",\n        width: 200\n      },\n      {\n        field: "Diameter",\n        headerName: "Diameter (km)",\n        width: 150\n      },\n      {\n        field: "Mass",\n        headerName: "Mass (kg)",\n        width: 150\n      },\n      {\n        field: "Inclination",\n        headerName: "Inclination (deg)",\n        width: 150\n      },\n      {\n        field: "Eccentricity",\n        headerName: "Eccentricity",\n        width: 150\n      }\n    ],\n    /**\n     * List of filters to display on the main page and use to filter the main table data. \n     * Each filter has a definition object to determine how it renders and functions.\n     */\n    tableFilters: [\n      {\n        field: "Diameter",\n        label: "Diameter (km)",\n        filterComponent: "Slider",\n        filterProps: {\n          min: 4000,\n          max: 150000\n        }\n      }\n    ]\n  }\n}\n'})}),"\n",(0,a.jsxs)(t.p,{children:["Save this file. You should now have a fully functioning Explore Data Task Flow page when you navigate to the ",(0,a.jsx)(t.code,{children:"/solar-system"})," route. Test this out by navigating your browser to ",(0,a.jsx)(t.a,{href:"http://localhost:5173/solar-system",children:"http://localhost:5173/solar-system"}),"."]}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{alt:"Screenshot of solar system Task Flow in a browser",src:n(304).A+"",width:"1816",height:"1226"})}),"\n",(0,a.jsx)(t.p,{children:"This is great, but it would be good to be able to access this page from the navbar instead. Let's add a link to the Solar System page in the top navigation bar."}),"\n",(0,a.jsxs)(t.p,{children:["To do this we are going to open the global strudel configuration file ",(0,a.jsx)(t.code,{children:"strudel.config.ts"})," located at the root of our app."]}),"\n",(0,a.jsxs)(t.p,{children:["Right now there is one item, ",(0,a.jsx)(t.code,{children:"Playground"}),", in the list of items to render in the ",(0,a.jsx)(t.code,{children:"navbar"}),". We don't need this item so let's replace it with a link to our solar system page:"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-js",children:"{\n  label: 'Solar System',\n  path: '/solar-system'\n}\n"})}),"\n",(0,a.jsx)(t.p,{children:'Save that file and you should see a new "Solar System" link in the navbar.'}),"\n",(0,a.jsx)(t.p,{children:"Woohoo! You now have your first fully connected Task Flow."}),"\n",(0,a.jsx)(t.h2,{id:"next-steps",children:"Next steps"}),"\n",(0,a.jsx)(t.p,{children:"The next section provides some examples of how to customize your Task Flow."})]})}function h(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},304:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/start-explore-data-2-a00bc5178c1d7955205236dfe0015c55.png"},8453:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>l});var a=n(6540);const s={},i=a.createContext(s);function o(e){const t=a.useContext(i);return a.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),a.createElement(i.Provider,{value:t},e.children)}}}]);