"use strict";(self.webpackChunkstrudel_docs=self.webpackChunkstrudel_docs||[]).push([[6647],{2473:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>r,contentTitle:()=>i,default:()=>p,frontMatter:()=>a,metadata:()=>l,toc:()=>d});var o=n(4848),s=n(8453);const a={title:"Connecting Task Flows"},i=void 0,l={id:"customization/connect-task-flows-together",title:"Connecting Task Flows",description:"How to Connect Task Flows Together",source:"@site/docs/customization/connect-task-flows-together.md",sourceDirName:"customization",slug:"/customization/connect-task-flows-together",permalink:"/strudel-kit/docs/customization/connect-task-flows-together",draft:!1,unlisted:!1,editUrl:"https://github.com/strudel-science/strudel-kit/tree/main/docs/docs/customization/connect-task-flows-together.md",tags:[],version:"current",frontMatter:{title:"Connecting Task Flows"},sidebar:"mainSidebar",previous:{title:"Combining Sections",permalink:"/strudel-kit/docs/customization/combine-sections"},next:{title:"Columns",permalink:"/strudel-kit/docs/customization/columns"}},r={},d=[{value:"How to Connect Task Flows Together",id:"how-to-connect-task-flows-together",level:2},{value:"1. Add both Task Flows to your app",id:"1-add-both-task-flows-to-your-app",level:3},{value:"2. Plan the page flow",id:"2-plan-the-page-flow",level:3},{value:"3. Add direct links between pages from two Task Flows.",id:"3-add-direct-links-between-pages-from-two-task-flows",level:3},{value:"Optional Steps",id:"optional-steps",level:2},{value:"Remove unused pages and elements",id:"remove-unused-pages-and-elements",level:3},{value:"Limitations and Next Steps",id:"limitations-and-next-steps",level:2}];function c(e){const t={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.h2,{id:"how-to-connect-task-flows-together",children:"How to Connect Task Flows Together"}),"\n",(0,o.jsx)(t.p,{children:"Task Flows don't always exist in isolation inside apps. Instead, Task Flows often fit together in various ways. In this article you will learn how to connect steps from two different task flows into a larger flow."}),"\n",(0,o.jsx)(t.p,{children:"In this example, you will connect an Explore Data Task Flow with a Run Computation Task Flow. For this new app, you want to have an explorer page like the one in Explore Data but you also want to be able to run different computations based on a selected row from the explorer."}),"\n",(0,o.jsx)(t.h3,{id:"1-add-both-task-flows-to-your-app",children:"1. Add both Task Flows to your app"}),"\n",(0,o.jsx)(t.p,{children:"If you haven't already, add both the Explore Data and Run Computation Task Flows into your app:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{children:"cd src/pages\nnpx degit strudel-science/strudel-kit/src/pages/explore-data explore\nnpx degit strudel-science/strudel-kit/src/pages/run-computation compute\n"})}),"\n",(0,o.jsx)(t.h3,{id:"2-plan-the-page-flow",children:"2. Plan the page flow"}),"\n",(0,o.jsxs)(t.p,{children:["First, you need to determine how the user should flow through the pages of the two apps. Where will a user go from one Task Flow to another? Are there any pages you should skip or eliminate? In this example, you want users to be able to click on a row and run a compuation for that row by clicking a new button in the ",(0,o.jsx)(t.code,{children:"<PreviewPanel>"})," of the ",(0,o.jsx)(t.code,{children:"<DataExplorer>"}),". Then you want users to be able to enter in some parameters, initiate the computation, and see some results."]}),"\n",(0,o.jsx)(t.h3,{id:"3-add-direct-links-between-pages-from-two-task-flows",children:"3. Add direct links between pages from two Task Flows."}),"\n",(0,o.jsxs)(t.p,{children:["For this flow, you want users to go from the ",(0,o.jsx)(t.code,{children:"<PreviewPanel>"})," in the Explore Data Task Flow to the ",(0,o.jsx)(t.code,{children:"<Settings>"})," page in the Run Computation Task Flow. The first thing you need to do is create a new button link in the ",(0,o.jsx)(t.code,{children:"<PreviewPanel>"})," that links to the ",(0,o.jsx)(t.code,{children:"<Settings>"})," page. Open up ",(0,o.jsx)(t.code,{children:"PreviewPanel.tsx"})," inside the ",(0,o.jsx)(t.code,{children:"_components"}),' folder of the explore page and add a new link and button right next to the "View Details" button:']}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-jsx",metastring:'title="PreviewPanel.tsx"',children:'<AppLink to="/compute/scenario/settings">\n  <Button variant="contained">Analyze</Button>\n</AppLink>\n'})}),"\n",(0,o.jsxs)(t.p,{children:["In the ",(0,o.jsx)(t.code,{children:"to"})," prop, you will notice that we are linking to the route of the settings page. Now, clicking this button will take us directly to that step. This is the most straightforward way to connect two Task Flows with STRUDEL Kit."]}),"\n",(0,o.jsxs)(t.p,{children:["To add a link back to the explore page from the settings page, open up ",(0,o.jsx)(t.code,{children:"compute/_layout/$id/_layout.tsx"})," in the compute Task Flow folder, delete the whole ",(0,o.jsx)(t.code,{children:"<Breadcrumbs>...</Breadcrumbs>"})," component, and replace it with a link button:"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-jsx",metastring:'title="_layout.tsx"',children:'<AppLink to="/explore">\n  <Button variant="contained">Back to Explorer</Button>\n</AppLink>\n'})}),"\n",(0,o.jsx)(t.h2,{id:"optional-steps",children:"Optional Steps"}),"\n",(0,o.jsx)(t.h3,{id:"remove-unused-pages-and-elements",children:"Remove unused pages and elements"}),"\n",(0,o.jsx)(t.p,{children:"If you do not need to keep the original Run Computation Task Flow intact, then you can safely delete the unused pages/components from the file system."}),"\n",(0,o.jsxs)(t.p,{children:["In this example, you are no longer using the ",(0,o.jsx)(t.code,{children:"data-inputs.tsx"})," page or the ",(0,o.jsx)(t.code,{children:"index.tsx"})," page in the compute Task Flow directory. At this point you can safely delete those two files."]}),"\n",(0,o.jsxs)(t.p,{children:['You should also delete the "Data Inputs" step from the ',(0,o.jsx)(t.code,{children:"<Stepper>"})," component in ",(0,o.jsx)(t.code,{children:"settings.tsx"}),", ",(0,o.jsx)(t.code,{children:"running.tsx"}),", and ",(0,o.jsx)(t.code,{children:"results.tsx"})," which all live in ",(0,o.jsx)(t.code,{children:"compute/_layout/$id/_layout"}),":"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-jsx",children:"// Remove this code from `settings.tsx`, `running.tsx`, and `results.tsx`\n<Step key={taskflow.pages.dataInputs.title}>\n  <StepLabel>\n    <AppLink\n      to=\"/run-computation/$id/data-inputs\"\n      params={{ id: 'new' }}\n      sx={{ color: 'inherit', textDecoration: 'none' }}\n    >\n      Data Inputs\n    </AppLink>\n  </StepLabel>\n</Step>\n"})}),"\n",(0,o.jsx)(t.h2,{id:"limitations-and-next-steps",children:"Limitations and Next Steps"}),"\n",(0,o.jsxs)(t.p,{children:["These instructions have helped you connect the user interfaces of two different Task Flows but they did not cover how to connect the ",(0,o.jsx)(t.em,{children:"data"})," between two Task Flows. This is absolutely possible and necessary but requires more knowledge of the React state. If you would like help passing data between app sections and loading data dynamically based on URL parameters, check out the Kent C. Dodds' article on ",(0,o.jsx)(t.a,{href:"https://kentcdodds.com/blog/application-state-management-with-react",children:"Application State Management in React"}),"."]})]})}function p(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>i,x:()=>l});var o=n(6540);const s={},a=o.createContext(s);function i(e){const t=o.useContext(a);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),o.createElement(a.Provider,{value:t},e.children)}}}]);